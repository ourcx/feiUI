<template>
  <div class="demo-block">
    <FeiComment
      author="ä¸»é¢˜ä½œè€…"
      datetime="2024-01-15 10:00:00"
      content="æ¬¢è¿å¤§å®¶å¯¹è¿™ä¸ªæ–°åŠŸèƒ½æå‡ºå®è´µæ„è§ï¼"
    >
      <template #actions>
        <div class="custom-actions">
          <span class="action-item" @click="showReply = !showReply">ğŸ’¬ å›å¤</span>
        </div>
      </template>
    </FeiComment>

    <!-- åµŒå¥—å›å¤ -->
    <div class="nested-comments" style="margin-left: 60px; border-left: 2px solid var(--fei-border-color-light); padding-left: 20px;">
      <FeiComment
        author="ç”¨æˆ·A"
        datetime="2024-01-15 11:30:00"
        content="æˆ‘è§‰å¾—è¿™ä¸ªåŠŸèƒ½å¾ˆæ£’ï¼Œç‰¹åˆ«æ˜¯ç•Œé¢è®¾è®¡å¾ˆç›´è§‚ã€‚"
      />

      <FeiComment
        author="ç”¨æˆ·B"
        datetime="2024-01-15 12:15:00"
        content="åŒæ„ç”¨æˆ·Açš„çœ‹æ³•ï¼Œå»ºè®®å†å¢åŠ ä¸€äº›å¿«æ·é”®æ”¯æŒã€‚"
      />

      <FeiComment
        author="ç”¨æˆ·C"
        datetime="2024-01-15 13:20:00"
        content="å·²ç»è¯•ç”¨è¿‡äº†ï¼Œä½“éªŒå¾ˆå¥½ï¼ŒæœŸå¾…æ­£å¼ç‰ˆæœ¬ï¼"
      />
    </div>

    <!-- å›å¤æ¡†ç¤ºä¾‹ -->
    <div v-if="showReply" class="reply-box" style="margin-top: 16px; padding: 16px; background: var(--fei-fill-color-light); border-radius: 8px;">
      <h4 style="margin: 0 0 12px 0;">å›å¤ä¸»é¢˜</h4>
      <textarea
        v-model="replyContent"
        placeholder="è¾“å…¥å›å¤å†…å®¹..."
        style="width: 100%; min-height: 80px; padding: 8px; border: 1px solid var(--fei-border-color); border-radius: 4px; resize: vertical;"
      ></textarea>
      <div style="display: flex; justify-content: flex-end; gap: 8px; margin-top: 8px;">
        <button
          @click="showReply = false"
          style="padding: 6px 12px; border: 1px solid var(--fei-border-color); border-radius: 4px; background: white;"
        >
          å–æ¶ˆ
        </button>
        <button
          @click="submitReply"
          style="padding: 6px 12px; border: none; border-radius: 4px; background: var(--fei-color-primary); color: white;"
        >
          æäº¤å›å¤
        </button>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import FeiComment from "../../../src/components/Comment/Comment.vue";

const showReply = ref(false)
const replyContent = ref('')

const submitReply = () => {
  if (replyContent.value.trim()) {
    console.log('æäº¤å›å¤:', replyContent.value)
    replyContent.value = ''
    showReply.value = false
  }
}
</script>

<style scoped>
.custom-actions {
  display: flex;
  gap: 16px;
}

.action-item {
  cursor: pointer;
  color: var(--fei-text-color-regular);
  transition: color 0.3s;
  font-size: 14px;
}

.action-item:hover {
  color: var(--fei-color-primary);
}
</style>
